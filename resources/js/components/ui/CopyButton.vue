<template>
	<button class="bg-grey-light hover:bg-grey text-grey-darkest font-bold py-2 px-4 rounded inline-flex items-center cursor-pointer" v-on:click="copyToClipboard">
		<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="15pt" height="15pt" viewBox="0 0 15 15" version="1.1">
			<g id="surface1">
				<path style=" stroke:none;fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 14.753906 3.445312 C 14.597656 3.289062 14.410156 3.210938 14.1875 3.210938 L 10.707031 3.210938 C 10.371094 3.210938 10.015625 3.324219 9.636719 3.546875 L 9.636719 0.804688 C 9.636719 0.578125 9.558594 0.390625 9.402344 0.234375 C 9.246094 0.078125 9.054688 0 8.832031 0 L 5.351562 0 C 5.128906 0 4.886719 0.0546875 4.617188 0.167969 C 4.347656 0.277344 4.136719 0.414062 3.980469 0.570312 L 0.570312 3.980469 C 0.414062 4.136719 0.277344 4.347656 0.167969 4.617188 C 0.0546875 4.886719 0 5.128906 0 5.351562 L 0 10.972656 C 0 11.199219 0.078125 11.386719 0.234375 11.542969 C 0.390625 11.699219 0.578125 11.777344 0.804688 11.777344 L 5.351562 11.777344 L 5.351562 14.1875 C 5.351562 14.410156 5.429688 14.597656 5.585938 14.753906 C 5.742188 14.910156 5.933594 14.988281 6.15625 14.988281 L 14.1875 14.988281 C 14.410156 14.988281 14.597656 14.910156 14.753906 14.753906 C 14.910156 14.597656 14.988281 14.410156 14.988281 14.1875 L 14.988281 4.015625 C 14.988281 3.792969 14.910156 3.601562 14.753906 3.445312 Z M 9.636719 4.992188 L 9.636719 7.496094 L 7.136719 7.496094 Z M 4.28125 1.78125 L 4.28125 4.28125 L 1.78125 4.28125 Z M 5.921875 7.195312 C 5.765625 7.347656 5.632812 7.5625 5.519531 7.828125 C 5.410156 8.097656 5.351562 8.34375 5.351562 8.566406 L 5.351562 10.707031 L 1.070312 10.707031 L 1.070312 5.351562 L 4.550781 5.351562 C 4.773438 5.351562 4.960938 5.273438 5.117188 5.117188 C 5.273438 4.964844 5.351562 4.773438 5.351562 4.550781 L 5.351562 1.070312 L 8.566406 1.070312 L 8.566406 4.550781 Z M 13.917969 13.917969 L 6.421875 13.917969 L 6.421875 8.566406 L 9.902344 8.566406 C 10.125 8.566406 10.316406 8.488281 10.472656 8.332031 C 10.628906 8.175781 10.707031 7.984375 10.707031 7.761719 L 10.707031 4.28125 L 13.917969 4.28125 Z M 13.917969 13.917969 "/>
			</g>
		</svg>
		<p class="text-xs" v-if="copied">Copied!</p>
	</button>
</template>

<script>
	export default {
		props: {
			copy: {
				type: String
			}
		},
		data() {
			return {
				copied: false,
			}
		},
		methods: {
			copyToClipboard() {
				let el = document.createElement('textarea')

				el.value = this.copy

				el.setAttribute('readonly', '')
				
				el.style = {
					position: 'absolute',
					left: '-9999px'
				}
				
				document.body.appendChild(el)
				
				el.select()
				
				document.execCommand('copy')
				
				document.body.removeChild(el)

				this.copied = true
			}	
		}
	};
</script>
<style lang="scss" scoped>
</style>